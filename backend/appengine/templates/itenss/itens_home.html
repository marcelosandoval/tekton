{% extends 'itenss/itens_base.html' %}
{% block js %}
    <script type="text/javascript" src="/static/angular/js/angular.min.js"></script>
    <script type="text/javascript" src="/static/itens/js/itens.js"></script>
    <script type="text/javascript">
        var itensApp=angular.module('itensApp',['itensModulo']);
        function ItemController($scope){

            $scope.item={nome : 'nome',
                        tipo : 'tipo',
                        bonus : 'bonus',
                        passiva : 'passiva',
                        ativa : 'ativa',
                        aura : 'aura',
                        vlrCompra : 1000,
                        vlrVenda : 1000
                    };

            $scope.mostrarFormFlag=false;

            $scope.mostrarEsconderForm=function(){
                $scope.mostrarFormFlag=!$scope.mostrarFormFlag;
            };

        };
    </script>
{% endblock %}
{% block body %}
    <div class="container">
        <div class="row">
            <div class="col-md-12 well" ng-app="itensApp" ng-controller="ItemController">
                <h1>{% trans %}This is a generic home for itens_app {% endtrans %}  </h1>
                <button class="btn btn-success" ng-click="mostrarEsconderForm()">Create New Item</button>
                <br/><br/><br/>
                <itensform ng-show="mostrarFormFlag" item="item"></itensform>
                <hr/>
                <h2>{% trans %}List of Items{% endtrans %}</h2>
                <table class="table table-striped table-hover">
                    <thead>
                    <tr>
                        <th/>
                        <th>{% trans %}Id{% endtrans %}</th>
                        <th>{% trans %}Creation{% endtrans %}</th>
                        <th>{% trans %}Tipo{% endtrans %}</th>
                        <th>{% trans %}Nome{% endtrans %}</th>
                        <th>{% trans %}Bonus{% endtrans %}</th>
                        <th>{% trans %}Ativa{% endtrans %}</th>
                        <th>{% trans %}Passiva{% endtrans %}</th>
                        <th>{% trans %}Aura{% endtrans %}</th>
                        <th>{% trans %}VlrVenda{% endtrans %}</th>
                        <th>{% trans %}VlrCompra{% endtrans %}</th>
                    </tr>
                    </thead>
                    <tbody>
                    {% for item in items %}
                        <tr>
                            <td><a href="{{ item.edit_path }}" class="btn btn-success btn-sm"><i
                                    class="glyphicon glyphicon-pencil"></i></a></td>
                            <td>{{ item.id }}</td>
                            <td>{{ item.creation }}</td>
                            <td>{{ item.tipo }}</td>
                            <td>{{ item.nome }}</td>
                            <td>{{ item.bonus }}</td>
                            <td>{{ item.ativa }}</td>
                            <td>{{ item.passiva }}</td>
                            <td>{{ item.aura }}</td>
                            <td>{{ item.vlrVenda }}</td>
                            <td>{{ item.vlrCompra }}</td>
                            <td>
                                <form action="{{ item.delete_path }}" method="post" onsubmit="return confirm('{{_('Are you sure to delete? Press cancel to avoid deletion.')}}');">
                                    {{ csrf_input() }}
                                    <button class="btn btn-danger btn-sm"><i
                                            class="glyphicon glyphicon-trash"></i></button>
                                </form>
                            </td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>
{% endblock %}